<ion-header>
  <ion-navbar>
    <ion-title>Create Account</ion-title>
  </ion-navbar>
  <div class="header-shadow"></div>
</ion-header>

<ion-content class="padding-no">
  <div class="block-lines-bottom-left-right">
    <ion-item no-lines class="block-name">
      <div text-uppercase class="text-4F4F4F font-14">Name & email</div>
      <div item-end>
        <img src="assets/img/cards.svg">
      </div>
      <div item-end>
        <span class="label label-ios points font-75">You have {{ point() }} points</span>
      </div>
    </ion-item>
  </div>

  <div class="block-lines">
    <ion-item no-lines class="block-people">
      <div item-start>
        <a (click)="addLogo()">
          <div *ngIf="picture_url && picture_url != 'O'" class="people" [style.background-image]="'url(' + picture_url + ')'"></div>
          <div *ngIf="!picture_url || picture_url == 'O'" class="people"></div>
        </a>
      </div>
      <div item-end class="item-content">
        <ion-input class="bg-gray margin-bottom-small" type="text" placeholder="Your Name" [(ngModel)]="user.name" name="name1"></ion-input>
        <div class="input_relative">
          <ion-input class="bg-gray margin-bottom-small" type="email" placeholder="Your E-mail" [(ngModel)]="user.email" name="email"></ion-input>
          <span *ngIf="user.email" class="text-gray icon_info">
            <a (click)="toggleVisibleInfo()">
              <img src="assets/img/create_user_profile/info.svg">
            </a>
          </span>
        </div>
      </div>
    </ion-item>
  </div>

  <div class="block-lines">
    <ion-item *ngIf="!visibleInfo" no-lines>
      <div item-start>
        <img class="img_lock" src="assets/img/create_user_profile/img_1.svg">
      </div>
      <div item-end text-left class="item-content">
        <div class="bold font-16 text-3E4B5D">Earn Extra Points</div>
        <div class="text-4F4F4F font-12 margin-top-2vw">Of course you have good opportunity to earn extra points for this!</div>
      </div>
    </ion-item>
    <ion-item *ngIf="visibleInfo" no-lines>
      <div item-start>
        <img class="img_msg" src="assets/img/create_user_profile/img_2.svg">
      </div>
      <div item-end text-left class="item-content">
        <div class="bold font-16 text-3E4B5D">Confirm Email Address</div>
        <div class="text-4F4F4F font-12">We emailed a confirmation link to your email address. Click the link to finish registration.</div>
      </div>
    </ion-item>
  </div>

  <div class="block-lines">
    <div class="font-75">SOCIAL ACCOUNTS (Every item adds + 3 points) </div>
  </div>

  <div class="block-lines">

    <ion-item class="bg-gray margin-bottom-small" ion-item detail-push>
      <ion-input class="text-3E4B5D" [(ngModel)]="facebookName" placeholder="Facebook"></ion-input>
      <div item-end>
        <ion-label *ngIf="facebookName" class="label label-ios added font-75">
          <ion-icon name="md-checkmark"></ion-icon> Added</ion-label>
        <ion-label *ngIf="!facebookName" class="label label-ios points font-75">+ 3 points</ion-label>
      </div>
    </ion-item>

    <ion-item class="bg-gray margin-bottom-small" ion-item detail-push>
      <ion-input class="text-3E4B5D" [(ngModel)]="instagramName" placeholder="Instagram"></ion-input>
      <div item-end>
        <ion-label *ngIf="instagramName" class="label label-ios added font-75">
          <ion-icon name="md-checkmark"></ion-icon> Added</ion-label>
        <ion-label *ngIf="!instagramName" class="label label-ios points font-75">+ 3 points</ion-label>
      </div>
    </ion-item>

    <ion-item class="bg-gray" ion-item detail-push>
      <ion-input class="text-3E4B5D" [(ngModel)]="twitterName" placeholder="Twitter"></ion-input>
      <div item-end>
        <ion-label *ngIf="twitterName" class="label label-ios added font-75">
          <ion-icon name="md-checkmark"></ion-icon> Added</ion-label>
        <ion-label *ngIf="!twitterName" class="label label-ios points font-75">+ 3 points</ion-label>
      </div>
    </ion-item>

  </div>

  <div class="block-lines">
    <a (click)="toggleSelect()">
      <div class="select-block-desc text-828282 font-14">
        SHOW ADDITIONAL OPTIONS (More points)
        <ion-icon *ngIf="isSelectVisible" name="arrow-up" class="icon"></ion-icon>
        <ion-icon *ngIf="!isSelectVisible" name="arrow-down" class="icon"></ion-icon>
      </div>
    </a>

    <p class="select-block-desc text-828282 font-12">If you will fill additional information about yourself it helps us to recommend best offers for you.</p>
  </div>

  <!-- <div [ngClass]="{ 'accord-visibility' : (isSelectVisible), 'accord-hidden' : (!isSelectVisible) }"> -->
  <div *ngIf="isSelectVisible">
    <div class="block-lines">
      <ion-item detail-push class="bg-gray margin-bottom-small">
        <ion-select [(ngModel)]="gender" placeholder="Gender" class="gender_select" interface="action-sheet">
          <ion-option value="f">Female</ion-option>
          <ion-option value="m">Male</ion-option>
        </ion-select>
        <!-- <ion-input [(ngModel)]="account.gender" [ngModelOptions]="{standalone: true}" placeholder="Gender"></ion-input>-->
        <div item-end>
          <ion-label *ngIf="gender" class="label label-ios added font-75">
            <ion-icon name="md-checkmark"></ion-icon> Added</ion-label>
          <ion-label *ngIf="!gender" class="label label-ios points font-75">+ 5 points</ion-label>
        </div>
      </ion-item>

      <ion-item detail-push class="bg-gray margin-bottom-small">
        <ion-input [(ngModel)]="age" placeholder="Age"></ion-input>
        <div item-end>
          <ion-label *ngIf="age" class="label label-ios added font-75">
            <ion-icon name="md-checkmark"></ion-icon> Added</ion-label>
          <ion-label *ngIf="!age" class="label label-ios points font-75">+ 9 points</ion-label>
        </div>
      </ion-item>

      <ion-item detail-push class="bg-gray margin-bottom-small">
        <ion-input [(ngModel)]="income" placeholder="Income"></ion-input>
        <div item-end>
          <ion-label *ngIf="income" class="label label-ios added font-75">
            <ion-icon name="md-checkmark"></ion-icon> Added</ion-label>
          <ion-label *ngIf="!income" class="label label-ios points font-75">+ 9 points</ion-label>
        </div>
      </ion-item>
    </div>
    <p margin text-uppercase class="font-14 text-4F4F4F">Confirm your location:</p>
    <div class="block-map">
      <div *ngIf="!coords.lat">Detecting your location...</div>
      <agm-map *ngIf="coords.lat" [zoom]="15" [latitude]="coords.lat" [longitude]="coords.lng" (centerChange)="onMapCenterChange($event)">
      </agm-map>
      <div id="marker"></div>
    </div>
    <!--<ion-card>
          <ion-card-content>
            {{ address }}
          </ion-card-content>
        </ion-card>-->
  </div>
  <p margin>
    <button color="primary" (click)="createAccount()" [disabled]="!user.name || !user.email" ion-button block>Create account</button>
  </p>
</ion-content>
