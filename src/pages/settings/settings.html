<ion-header>
  <ion-navbar>
    <ion-title>Settings</ion-title>
    <!--
    <a (click)="saveProfile()">
      <ion-icon padding-right color="dark" class="font-300" name="checkmark"></ion-icon>
    </a>
    -->
  </ion-navbar>
    <div class="header-shadow"></div>
</ion-header>

<ion-content class="padding-no">
  <div padding-top class="block-lines-bottom-left-right">
    <a class="select" (click)="toggleAccountsChoiceVisible()">
        <span text-uppercase class="font-14 text-4F4F4F">
            Choose your account <span text-lowercase>(hide)</span>
        </span>
      <ion-icon class="text-828282 icon" *ngIf="isAccountsChoiceVisible" name="arrow-down"></ion-icon>
      <ion-icon class="text-828282 icon" *ngIf="!isAccountsChoiceVisible" name="arrow-up"></ion-icon>
    </a>
  </div>

  <div *ngIf="!isAccountsChoiceVisible" class="block-lines">
    <ion-grid class="ava_user_adv">
      <ion-row text-center align-items-center>
        <ion-col>
          <div margin-top class="thumb_image" [style.background-image]="'url(' + user.picture_url + ')'"></div>
          <!-- <img margin-top [src]="user.picture_url"> -->
          <div class="font-16 text-3E4B5D bold">Client</div>
        </ion-col>
        <ion-col>
          <ion-item no-lines>
            <ion-toggle (ionChange)="toggleAdvMode()" [(ngModel)]="isAdvMode"></ion-toggle>
          </ion-item>
        </ion-col>
        <ion-col>
          <div margin-top class="thumb_image" [style.background-image]="'url(' + advPicture_url + ')'"></div>
          <div class="font-16 text-BDBDBD bold">Advertaiser</div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

    <p *ngIf="isAdvMode" margin>
        <button (click)="openAdvRedeem()" color="primary" ion-button block>CONFIRM REDEMPTION</button>
    </p>

    <div class="block-lines">
        <div text-uppercase class="font-14 text-4F4F4F">Your invite code</div>
    </div>

    <div class="block-lines">
        <ion-item class="bg-gray">
            <ion-label margin-left class="text-3E4B5D font-16">{{ user.invite_code }}</ion-label>
        </ion-item>
    </div>

  <div class="block-lines">
    <div text-uppercase class="font-14 text-4F4F4F">Change your phone number</div>
  </div>

  <div class="block-lines block-phone">
    <ion-grid class="bg-gray">
      <ion-row align-items-center>
        <ion-col col-8 text-left padding-left>
          <div class="text-3E4B5D font-16">{{ user.phone }}</div>
        </ion-col>
        <ion-col col-4>
          <ion-item no-lines text-right>
            <button (click)="openChangePhone()" color="primary" ion-button round class="font-12 regular">Change</button>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <div class="block-lines">
    <div text-uppercase class="font-14 text-4F4F4F">Private data</div>
  </div>

  <div class="block-lines" mode="md">
    <ion-item class="bg-gray margin-bottom-small">
      <ion-label margin-left item-end class="text-3E4B5D font-16">Show my private data</ion-label>
      <ion-checkbox [(ngModel)]="showData" item-end></ion-checkbox>
    </ion-item>
    <ion-item class="bg-gray margin-bottom-small">
      <ion-label margin-left item-end class="text-3E4B5D font-16">Show my phone number</ion-label>
      <ion-checkbox [(ngModel)]="showPhone" item-end></ion-checkbox>
    </ion-item>
    <ion-item class="bg-gray">
      <ion-label margin-left item-end class="text-3E4B5D font-16">Show my e-mail address</ion-label>
      <ion-checkbox [(ngModel)]="showEmail" item-end></ion-checkbox>
    </ion-item>
  </div>

  <div class="block-lines">
    <a class="text-4F4F4F font-14" (click)="toggleSelectRadiusVisible()">Set radius for yours offers interest</a>
  </div>
  <ion-item (click)="toggleSelectRadiusVisible()" *ngIf="isSelectRadiusVisible" margin-top margin-bottom padding-left padding-right class="border-bottom-no">
    <ion-label>Offers radius</ion-label>
    <ion-select [(ngModel)]="radius" (ionChange)="toggleSelectRadiusVisible()" (ionCancel)="toggleSelectRadiusVisible()" placeholder="50 m"
      name="radius" class="bg-gray width-100" interface="action-sheet">
      <ion-option *ngFor="let radius of radiuses" [value]="radius">{{ radius }} m</ion-option>
    </ion-select>
  </ion-item>

  <div *ngIf="!coords.lat" padding-left class="font-12 text-4F4F4F">Detecting your location...</div>

  <div *ngIf="coords.lat" class="block-map">
    <agm-map class="card" [zoom]="16" [latitude]="coords.lat" [longitude]="coords.lng">
    </agm-map>
    <div id="marker"></div>
  </div>
  <p margin>
    <button (click)="saveProfile()" color="primary" ion-button block>Save changes</button>
  </p>
</ion-content>
