<ion-header>
  <ion-navbar>
    <ion-title>The fair food</ion-title>
  </ion-navbar>
  <ion-list class="margin-0">
  <div class="cover" [style.background-image]="'url(' + company.cover_url + ')'">
    <div class="cover_logo" [style.background-image]="'url(' + company.picture_url + ')'"></div>
    <div class="cover_block_btn">
      <button ion-button icon-only color="white">
        <img src="assets/img/place/btn_star.svg">
      </button>
      <button ion-button icon-only color="white">
        <img src="assets/img/place/btn_share.svg">
      </button>
    </div>
  </div>

  <div margin class="font-0 relative">
  <div text-right>
    <span *ngIf="company.is_featured" text-uppercase class="bold font-12 text-FF5A00 letter-spacing-1">Featured</span>
    <ng-container *ngFor="let showStar of getStars(company.stars)">
        <ion-icon class="text-FEC282 icon-star" name="{{ showStar ? 'star' : 'star-outline' }}"></ion-icon>
      </ng-container>
    <img class="icon_people" src="assets/img/user_home/icon_small_user.svg"><span class="font-75 text-828282">{{ company.testimonials_count }}</span>
    <img class="icon_arrow" src="assets/img/user_home/icon_small_arrow.svg"><span class="font-75 text-828282">{{ distanceString }}</span>
  </div>
  <div margin-top class="text-3E4B5D font-36 bold width-88">{{ company.name }}</div>
  <div class="text-4F4F4F font-12 semibold wrap margin-top-2proc width-88">{{ company.address }}</div>
  <div class="font-12 text-828282 wrap text-overflow-35 margin-top-2proc width-88">{{ company.description }}</div>
      <div class="num_right">
          <div class="font-36 bold text-FF5A00" text-center>
              {{ offersList?.length }}
          </div>
          <div text-center class="font-10 text-828282">
              Offers
          </div>
      </div>
  </div>
  </ion-list>
  <ion-segment margin-top [(ngModel)]="segment" text-uppercase>
    <ion-segment-button value="alloffers">
      All offers
    </ion-segment-button>
    <ion-segment-button value="testimonials">
      Testimonials
    </ion-segment-button>
    <ion-segment-button value="about">
      About
    </ion-segment-button>
  </ion-segment>
  <div class="header-shadow"></div>
</ion-header>

<ion-content [ngSwitch]="segment" padding no-bounce>
  <ion-list *ngSwitchCase="'alloffers'" margin-top no-lines class="item-block-nau">
    <ion-item *ngFor=" let offer of offersList" (click)="openOffer(offer)" class="relative">
      <ion-avatar item-start>
        <!-- <img [src]="offer.picture_url"> -->
          <div class="thumb_image" [style.background-image]="'url(assets/img/place/offers_image1.png)'"></div>
      </ion-avatar>
      <div class="bold font-22 text-3E4B5D width-88 wrap-no">{{ offer.label }}</div>
      <div text-regular class="margin-top-10 font-12 text-828282 wrap text-overflow-35">{{ offer.description }}</div>
      <img class="star_right" src="assets/img/place/icon_star.svg">
      <div class="margin-top-10 flex">
        <button ion-button class="btn_transfer font-14 text-white">redeem now</button>
        <span class="text-BDBDBD font-18 bold margin-left margin-right plus">+</span>
        <img class="gift" src="assets/img/place/icon_gift.svg">
      </div>
    </ion-item>
  </ion-list>

  <ion-list  *ngSwitchCase="'testimonials'" margin-top no-lines class="item-block-nau testimonials">
    <ion-item *ngFor=" let testimonial of company.testimonials" (click)="openFeedback(testimonial)">
      <ion-avatar item-start>
        <div class="thumb_image" [style.background-image]="'url(' + testimonial.avatar_url + ')'"></div>
      </ion-avatar>
      <div class="bold font-18 text-3E4B5D">{{ testimonial.name }} <span class="font-12 text-828282 no-bold">{{ testimonial.date }}</span></div>
      <div class="margin-top-10 font-12 text-828282 wrap italic text-overflow-35">{{ testimonial.text }}</div>
    </ion-item>
  </ion-list>

  <div *ngSwitchCase="'about'" [innerHTML]="company.about" margin-top class="item-block-nau"></div>

</ion-content>

<!-- <ion-footer no-shadow no-border padding>-->
<ion-footer *ngIf="segment == 'testimonials'" no-shadow no-border>
  <ion-item no-lines>
    <ion-input class="bg-gray" placeholder="Add your feedback"></ion-input>
    <!--<a item-end><img src="assets/img/user_home/icon_pin.svg"></a>-->
    <a class="btn_check" margin-left item-end><img src="assets/img/place/btn_feed.svg"></a>
  </ion-item>
</ion-footer>
